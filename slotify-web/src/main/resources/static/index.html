<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Slotify - Find Your Meeting Slot</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Slotify</h1>
    <p class="subtitle">Find the perfect meeting slot for everyone</p>

    <div class="card">
        <h2>1. Load Calendar</h2>
        <div class="inline">
            <input type="file" id="file" accept=".csv" aria-label="Select CSV calendar file">
            <button type="button" onclick="upload()">Upload CSV</button>
            <button type="button" id="clear-btn" class="btn-danger" onclick="clearCache()" style="display:none">Clear Cache</button>
        </div>
    </div>

    <div id="timeline-card" class="card" style="display:none">
        <h2>Availability <span id="participant-count" class="participant-count"></span></h2>
        <div id="timeline"></div>
    </div>

    <div id="settings-card" class="card" style="display:none">
        <h2>2. Settings</h2>
        <div class="form-row">
            <div>
                <label for="buffer">Buffer between meetings</label>
                <select id="buffer" aria-label="Buffer time in minutes">
                    <option value="0">None</option>
                    <option value="5">5 min</option>
                    <option value="6">6 min</option>
                    <option value="7">7 min</option>
                    <option value="8">8 min</option>
                    <option value="9">9 min</option>
                    <option value="10" selected>10 min</option>
                    <option value="11">11 min</option>
                    <option value="12">12 min</option>
                    <option value="13">13 min</option>
                    <option value="14">14 min</option>
                    <option value="15">15 min</option>
                </select>
            </div>
            <div>
                <label for="blackout">Blocked time (e.g., lunch)</label>
                <div class="inline">
                    <input type="time" id="blackout-start" value="12:00" aria-label="Blackout start time">
                    <span>to</span>
                    <input type="time" id="blackout-end" value="13:00" aria-label="Blackout end time">
                    <button type="button" class="btn-small" onclick="addBlackout()">Add</button>
                </div>
            </div>
        </div>
        <div id="blackout-list" class="blackout-list"></div>
    </div>

    <div id="config" class="card" style="display:none">
        <h2>3. Meeting Request</h2>

        <div class="participant-grid">
            <div class="participant-column required">
                <h3>Required Participants</h3>
                <div id="required-list" class="participant-list"></div>
            </div>
            <div class="participant-column optional">
                <h3>Optional Participants</h3>
                <div id="optional-list" class="participant-list"></div>
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="duration">Duration</label>
                <select id="duration">
                    <option value="30">30 min</option>
                    <option value="60" selected>1 hour</option>
                    <option value="90">1.5 hours</option>
                    <option value="120">2 hours</option>
                </select>
            </div>
            <div style="margin-top: 24px;">
                <button type="button" class="btn-secondary" onclick="findSlots()">Find Available Slots</button>
            </div>
        </div>

        <div id="results"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
